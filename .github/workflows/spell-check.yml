name: 📚 Spell Check

on:
  pull_request:
    paths:
      - '**/*.md'
      - '**/*.txt'
  push:
    branches: [main]
    paths:
      - '**/*.md'
      - '**/*.txt'

jobs:
  spell-check:
    name: Check Spelling
    runs-on: ubuntu-latest
    
    steps:
      - name: 🔍 Checkout Repository
        uses: actions/checkout@v4
        
      - name: 📚 Run CSpell
        uses: streetsidesoftware/cspell-action@v6
        with:
          config: '.github/cspell.json'
          files: |
            **/*.md
            **/*.txt
          inline: warning
          incremental_files_only: false
          
      - name: 📝 Generate Spell Check Report
        if: failure()
        run: |
          echo "## 📚 Spell Check Issues Found" >> $GITHUB_STEP_SUMMARY
          echo "Please review the annotations above for specific spelling issues." >> $GITHUB_STEP_SUMMARY
          echo "- Add technical terms to .github/cspell-project-words.txt" >> $GITHUB_STEP_SUMMARY
          echo "- Add personal names to .github/cspell-names.txt" >> $GITHUB_STEP_SUMMARY
          echo "- Check for actual typos that need correction" >> $GITHUB_STEP_SUMMARY
          
      - name: ✅ Spell Check Summary
        if: success()
        run: |
          echo "## 📚 Spell Check Results" >> $GITHUB_STEP_SUMMARY
          echo "- ✅ No spelling issues found" >> $GITHUB_STEP_SUMMARY
          echo "- 📅 Last checked: $(date -u)" >> $GITHUB_STEP_SUMMARY